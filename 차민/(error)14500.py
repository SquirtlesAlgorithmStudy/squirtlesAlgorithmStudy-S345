n,m = map(int,input().split())
paper = [list(map(int,input().split())) for i in range(n)]

tetromino = [
#1
  [[0,0],[0,1],[0,2],[0,3]],
  [[0,0],[1,0],[2,0],[3,0]],

#2
  [[0,0],[0,1],[1,0],[1,1]],

#3
  [[0, 0], [1, 0], [2, 0], [2, 1]],
  [[0, 0], [1, 0], [0, 1], [0, 2]],
  [[0, 0], [0, 1], [1, 1], [2, 1]],
  [[0, 0], [0, 1], [0, 2], [-1, 2]],
  [[0, 0], [0, 1], [-1, 1], [-2, 1]],
  [[0, 0], [1, 0], [1, 1], [1, 2]],
  [[0, 0], [0, 1], [1, 0], [2, 0]],
  [[0, 0], [0, 1], [0, 2], [1, 2]],

#4
  [[0, 0], [1, 0], [1, 1], [2, 1]],
  [[0, 0], [0, 1], [-1, 1], [-1, 2]],
  [[0, 0], [0, 1], [-1, 1], [1, 0]],
  [[0, 0], [0, 1], [1, 1], [1, 2]],

#5
  [[0, 0], [0, 1], [0, 2], [1, 1]],
  [[0, 0], [-1, 1], [0, 1], [1, 1]],
  [[0, 0], [0, 1], [0, 2], [-1, 1]],
  [[0, 0], [1, 0], [2, 0], [1, 1]]  
]

max = 0
def Max(sum):
  global max
  if sum>max:
    max = sum

    
for i in range(n):
  for j in range(m):
    for a in range(19):
      sum = 0
      for b in range(4):
        if ((i+tetromino[a][b][0])<0 or (j+tetromino[a][b][1])<0):
          break
        else :
          sum += paper[i+tetromino[a][b][0]][j+tetromino[a][b][1]]

      Max(sum)

print(max)